---
const { href }: Record<string, any> = Astro.props;
const domain = import.meta.env.SITE;
let attr: { target?: string; rel?: string } = {};

// securely open external links in new tab
if (!href.startsWith(domain) && !href.startsWith("/") && !href.startsWith("#")) {
  attr["target"] = "_blank";
  attr["rel"] = "noopener noreferrer";
}
---

<a href={href} {...attr}><slot /></a>
